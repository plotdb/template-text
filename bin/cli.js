#!/usr/bin/env node
// Generated by LiveScript 1.3.1
var fs, yargs, tt, argv, input, output, cfg, ret;
fs = require('fs');
yargs = require('yargs');
tt = require("./index");
argv = yargs.option('config', {
  alias: 'c',
  description: "config json file used to interpolate.",
  type: 'string'
}).option('output', {
  alias: 'o',
  description: "output file name. print to stdout if omitted",
  type: 'string'
}).help().alias('help', 'h').check(function(argv, options){
  if (!argv._[0] || !fs.existsSync(argv._[0])) {
    throw new Error("input file missing");
  }
  return true;
}).argv;
input = argv._[0];
output = argv.o;
cfg = argv.c;
ret = tt(fs.readFileSync(input).toString(), cfg
  ? JSON.parse(fs.readFileSync(cfg).toString())
  : {});
if (output) {
  fs.writeFileSync(output, ret);
} else {
  console.log(ret);
}
